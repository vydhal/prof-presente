import{f as k,a as R,r as v,j as s,B as c,L as m,C as x,g as h,h as B,i as I,k as U,l as L}from"./index-D96FZGJW.js";import{C as r,a as i,b as n,d as l,c as j}from"./card-DGXvG8EM.js";import{B as S}from"./badge-B3h_Dmat.js";import{C as w}from"./clock-C5BmxETX.js";import{A as p}from"./award-CIYUFsZ1.js";import{M}from"./map-pin-DIXgTodH.js";import{C as y}from"./chart-bar-B-mNUrXP.js";import{U as O}from"./users-CtKWnKNz.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],V=k("trending-up",T),K=()=>{var N;const{user:t,isAdmin:b,isOrg:C,isGestor:E}=R(),[a,f]=v.useState({upcomingEvents:[],myEnrollments:[],myCheckins:0,myAwards:[],loading:!0});v.useEffect(()=>{t&&(async()=>{var o;try{const d=await B.getAll({limit:4,upcoming:!0}),g=await I.getUserEnrollments(t.id,{limit:5}),D=await U.getUserCheckins(t.id,{limit:1}),P=await L.getUserAwards(t.id,{limit:4});f({upcomingEvents:d.data.events||[],myEnrollments:g.data.enrollments||[],myCheckins:((o=D.data.pagination)==null?void 0:o.total)||0,myAwards:P.data.userAwards||[],loading:!1})}catch(d){console.error("Erro ao carregar dados do dashboard:",d),f(g=>({...g,loading:!1}))}})()},[t]);const A=e=>{const d={PENDING:{label:"Pendente",variant:"outline"},APPROVED:{label:"Aprovado",variant:"default"},REJECTED:{label:"Rejeitado",variant:"destructive"},CANCELLED:{label:"Cancelado",variant:"secondary"}}[e]||{label:e,variant:"outline"};return s.jsx(S,{variant:d.variant,children:d.label})},u=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return a.loading?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((e,o)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"},o))})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Ol√°, ",(N=t==null?void 0:t.name)==null?void 0:N.split(" ")[0],"! üëã"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Bem-vindo ao seu dashboard de crach√°s virtuais"})]}),s.jsx("div",{className:"mt-4 sm:mt-0",children:s.jsx(c,{asChild:!0,children:s.jsxs(m,{to:"/events",children:[s.jsx(x,{className:"mr-2 h-4 w-4"}),"Ver Eventos"]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(r,{children:[s.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Inscri√ß√µes Ativas"}),s.jsx(h,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(l,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.myEnrollments.filter(e=>e.status==="APPROVED").length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.myEnrollments.length," total"]})]})]}),s.jsxs(r,{children:[s.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Check-ins Realizados"}),s.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(l,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.myCheckins}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de presen√ßas"})]})]}),s.jsxs(r,{children:[s.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Premia√ß√µes"}),s.jsx(p,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(l,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.myAwards.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Badges conquistados"})]})]}),s.jsxs(r,{children:[s.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(n,{className:"text-sm font-medium",children:"Eventos Pr√≥ximos"}),s.jsx(V,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(l,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.upcomingEvents.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Dispon√≠veis para inscri√ß√£o"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(r,{children:[s.jsxs(i,{children:[s.jsxs(n,{className:"flex items-center",children:[s.jsx(x,{className:"mr-2 h-5 w-5"}),"Pr√≥ximos Eventos"]}),s.jsx(j,{children:"Eventos dispon√≠veis para inscri√ß√£o"})]}),s.jsx(l,{children:s.jsx("div",{className:"space-y-4",children:a.upcomingEvents.length>0?a.upcomingEvents.map(e=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg hover:bg-accent/50 transition-colors",children:[s.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:s.jsx(x,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:e.title}),s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mt-1",children:[s.jsx(w,{className:"mr-1 h-3 w-3"}),u(e.startDate)]}),s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(M,{className:"mr-1 h-3 w-3"}),e.location]})]}),s.jsx(c,{size:"sm",asChild:!0,children:s.jsx(m,{to:`/events/${e.id}`,children:"Ver Detalhes"})})]},e.id)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(x,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum evento pr√≥ximo encontrado"})]})})})]}),s.jsxs(r,{children:[s.jsxs(i,{children:[s.jsxs(n,{className:"flex items-center",children:[s.jsx(h,{className:"mr-2 h-5 w-5"}),"Minhas Inscri√ß√µes"]}),s.jsx(j,{children:"Suas inscri√ß√µes recentes em eventos"})]}),s.jsx(l,{children:s.jsx("div",{className:"space-y-4",children:a.myEnrollments.length>0?a.myEnrollments.map(e=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-lg flex items-center justify-center",children:s.jsx(h,{className:"w-6 h-6 text-secondary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:e.event.title}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[A(e.status),s.jsx("span",{className:"text-xs text-muted-foreground",children:u(e.enrollmentDate)})]})]})]},e.id)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(h,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{children:"Nenhuma inscri√ß√£o encontrada"}),s.jsx(c,{className:"mt-4",asChild:!0,children:s.jsx(m,{to:"/events",children:"Explorar Eventos"})})]})})})]})]}),a.myAwards.length>0&&s.jsxs(r,{children:[s.jsxs(i,{children:[s.jsxs(n,{className:"flex items-center",children:[s.jsx(p,{className:"mr-2 h-5 w-5"}),"Suas Premia√ß√µes"]}),s.jsx(j,{children:"Badges e conquistas recentes"})]}),s.jsx(l,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:a.myAwards.map(e=>s.jsxs("div",{className:"flex items-center space-x-3 p-4 border rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(p,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium truncate",children:e.award.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u(e.awardedAt)})]})]},e.id))})})]}),(b||C||E)&&s.jsxs(r,{children:[s.jsxs(i,{children:[s.jsxs(n,{className:"flex items-center",children:[s.jsx(y,{className:"mr-2 h-5 w-5"}),"Painel Administrativo"]}),s.jsx(j,{children:"Acesso r√°pido √†s funcionalidades administrativas"})]}),s.jsx(l,{children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(c,{variant:"outline",asChild:!0,children:s.jsxs(m,{to:"/admin?tab=users",children:[s.jsx(O,{className:"mr-2 h-4 w-4"}),"Gerenciar Usu√°rios"]})}),s.jsx(c,{variant:"outline",asChild:!0,children:s.jsxs(m,{to:"/admin?tab=dashboard",children:[s.jsx(y,{className:"mr-2 h-4 w-4"}),"Relat√≥rios"]})}),s.jsx(c,{variant:"outline",asChild:!0,children:s.jsxs(m,{to:"/admin?tab=events",children:[s.jsx(x,{className:"mr-2 h-4 w-4"}),"Criar Evento"]})})]})})]})]})};export{K as default};
