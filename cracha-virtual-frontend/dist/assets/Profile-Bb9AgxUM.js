import{f as mt,r as y,j as e,M as pt,ag as Qe,a1 as gt,a0 as vt,ah as xt,K as Ge,ai as yt,a2 as bt,O as F,a3 as $e,aj as Ct,ar as jt,ap as wt,aq as Tt,P as Et,aw as Pt,F as Nt,D as Ke,ax as Ve,A as Rt,m as O,ay as be,az as Ce,aA as je,B,a8 as Xe,v as L,e as A,o as Lt,a as At,p as M,q as re,C as _t}from"./index-D96FZGJW.js";import{C as q,a as U,b as z,c as J,d as Y}from"./card-DGXvG8EM.js";import{I as W}from"./input-DDdIEpJM.js";import{L as Z}from"./label-MJqwl0kV.js";import{T as Bt,a as Dt,b as le,c as ce}from"./tabs-CkfKOB4p.js";import{L as kt}from"./logo-prof-presente-white-BkOJ6lC6.js";import{S as Mt}from"./switch-SxBCxACq.js";import{A as Ot,a as St}from"./alert-DgGC3m4d.js";import{C as It,T as Be}from"./triangle-alert-CKNTf50K.js";import{A as de}from"./award-CIYUFsZ1.js";import{C as Ft}from"./circle-check-big-Cxkaf5y1.js";import{T as qt}from"./trash-2-CO8yHHry.js";import"./index-BvIB1H5F.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]],zt=mt("lock-keyhole",Ut);var[se]=pt("Tooltip",[Qe]),ne=Qe(),Je="TooltipProvider",Ht=700,we="tooltip.open",[Qt,Ee]=se(Je),Ye=n=>{const{__scopeTooltip:a,delayDuration:r=Ht,skipDelayDuration:f=300,disableHoverableContent:u=!1,children:o}=n,l=y.useRef(!0),i=y.useRef(!1),s=y.useRef(0);return y.useEffect(()=>{const t=s.current;return()=>window.clearTimeout(t)},[]),e.jsx(Qt,{scope:a,isOpenDelayedRef:l,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(s.current),l.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(()=>l.current=!0,f)},[f]),isPointerInTransitRef:i,onPointerInTransitChange:y.useCallback(t=>{i.current=t},[]),disableHoverableContent:u,children:o})};Ye.displayName=Je;var ee="Tooltip",[Gt,te]=se(ee),We=n=>{const{__scopeTooltip:a,children:r,open:f,defaultOpen:u,onOpenChange:o,disableHoverableContent:l,delayDuration:i}=n,s=Ee(ee,n.__scopeTooltip),t=ne(a),[d,c]=y.useState(null),h=gt(),p=y.useRef(0),g=l??s.disableHoverableContent,x=i??s.delayDuration,b=y.useRef(!1),[m,j]=vt({prop:f,defaultProp:u??!1,onChange:w=>{w?(s.onOpen(),document.dispatchEvent(new CustomEvent(we))):s.onClose(),o==null||o(w)},caller:ee}),E=y.useMemo(()=>m?b.current?"delayed-open":"instant-open":"closed",[m]),N=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,j(!0)},[j]),P=y.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j(!1)},[j]),_=y.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,j(!0),p.current=0},x)},[x,j]);return y.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),e.jsx(xt,{...t,children:e.jsx(Gt,{scope:a,contentId:h,open:m,stateAttribute:E,trigger:d,onTriggerChange:c,onTriggerEnter:y.useCallback(()=>{s.isOpenDelayedRef.current?_():N()},[s.isOpenDelayedRef,_,N]),onTriggerLeave:y.useCallback(()=>{g?P():(window.clearTimeout(p.current),p.current=0)},[P,g]),onOpen:N,onClose:P,disableHoverableContent:g,children:r})})};We.displayName=ee;var Te="TooltipTrigger",Ze=y.forwardRef((n,a)=>{const{__scopeTooltip:r,...f}=n,u=te(Te,r),o=Ee(Te,r),l=ne(r),i=y.useRef(null),s=Ge(a,i,u.onTriggerChange),t=y.useRef(!1),d=y.useRef(!1),c=y.useCallback(()=>t.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",c),[c]),e.jsx(yt,{asChild:!0,...l,children:e.jsx(bt.button,{"aria-describedby":u.open?u.contentId:void 0,"data-state":u.stateAttribute,...f,ref:s,onPointerMove:F(n.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(u.onTriggerEnter(),d.current=!0)}),onPointerLeave:F(n.onPointerLeave,()=>{u.onTriggerLeave(),d.current=!1}),onPointerDown:F(n.onPointerDown,()=>{u.open&&u.onClose(),t.current=!0,document.addEventListener("pointerup",c,{once:!0})}),onFocus:F(n.onFocus,()=>{t.current||u.onOpen()}),onBlur:F(n.onBlur,u.onClose),onClick:F(n.onClick,u.onClose)})})});Ze.displayName=Te;var Pe="TooltipPortal",[$t,Kt]=se(Pe,{forceMount:void 0}),et=n=>{const{__scopeTooltip:a,forceMount:r,children:f,container:u}=n,o=te(Pe,a);return e.jsx($t,{scope:a,forceMount:r,children:e.jsx($e,{present:r||o.open,children:e.jsx(Ct,{asChild:!0,container:u,children:f})})})};et.displayName=Pe;var Q="TooltipContent",tt=y.forwardRef((n,a)=>{const r=Kt(Q,n.__scopeTooltip),{forceMount:f=r.forceMount,side:u="top",...o}=n,l=te(Q,n.__scopeTooltip);return e.jsx($e,{present:f||l.open,children:l.disableHoverableContent?e.jsx(rt,{side:u,...o,ref:a}):e.jsx(Vt,{side:u,...o,ref:a})})}),Vt=y.forwardRef((n,a)=>{const r=te(Q,n.__scopeTooltip),f=Ee(Q,n.__scopeTooltip),u=y.useRef(null),o=Ge(a,u),[l,i]=y.useState(null),{trigger:s,onClose:t}=r,d=u.current,{onPointerInTransitChange:c}=f,h=y.useCallback(()=>{i(null),c(!1)},[c]),p=y.useCallback((g,x)=>{const b=g.currentTarget,m={x:g.clientX,y:g.clientY},j=Wt(m,b.getBoundingClientRect()),E=Zt(m,j),N=er(x.getBoundingClientRect()),P=rr([...E,...N]);i(P),c(!0)},[c]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(s&&d){const g=b=>p(b,d),x=b=>p(b,s);return s.addEventListener("pointerleave",g),d.addEventListener("pointerleave",x),()=>{s.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",x)}}},[s,d,p,h]),y.useEffect(()=>{if(l){const g=x=>{const b=x.target,m={x:x.clientX,y:x.clientY},j=(s==null?void 0:s.contains(b))||(d==null?void 0:d.contains(b)),E=!tr(m,l);j?h():E&&(h(),t())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[s,d,l,t,h]),e.jsx(rt,{...n,ref:o})}),[Xt,Jt]=se(ee,{isInside:!1}),Yt=Et("TooltipContent"),rt=y.forwardRef((n,a)=>{const{__scopeTooltip:r,children:f,"aria-label":u,onEscapeKeyDown:o,onPointerDownOutside:l,...i}=n,s=te(Q,r),t=ne(r),{onClose:d}=s;return y.useEffect(()=>(document.addEventListener(we,d),()=>document.removeEventListener(we,d)),[d]),y.useEffect(()=>{if(s.trigger){const c=h=>{const p=h.target;p!=null&&p.contains(s.trigger)&&d()};return window.addEventListener("scroll",c,{capture:!0}),()=>window.removeEventListener("scroll",c,{capture:!0})}},[s.trigger,d]),e.jsx(wt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c=>c.preventDefault(),onDismiss:d,children:e.jsxs(Tt,{"data-state":s.stateAttribute,...t,...i,ref:a,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(Yt,{children:f}),e.jsx(Xt,{scope:r,isInside:!0,children:e.jsx(Pt,{id:s.contentId,role:"tooltip",children:u||f})})]})})});tt.displayName=Q;var at="TooltipArrow",st=y.forwardRef((n,a)=>{const{__scopeTooltip:r,...f}=n,u=ne(r);return Jt(at,r).isInside?null:e.jsx(jt,{...u,...f,ref:a})});st.displayName=at;function Wt(n,a){const r=Math.abs(a.top-n.y),f=Math.abs(a.bottom-n.y),u=Math.abs(a.right-n.x),o=Math.abs(a.left-n.x);switch(Math.min(r,f,u,o)){case o:return"left";case u:return"right";case r:return"top";case f:return"bottom";default:throw new Error("unreachable")}}function Zt(n,a,r=5){const f=[];switch(a){case"top":f.push({x:n.x-r,y:n.y+r},{x:n.x+r,y:n.y+r});break;case"bottom":f.push({x:n.x-r,y:n.y-r},{x:n.x+r,y:n.y-r});break;case"left":f.push({x:n.x+r,y:n.y-r},{x:n.x+r,y:n.y+r});break;case"right":f.push({x:n.x-r,y:n.y-r},{x:n.x-r,y:n.y+r});break}return f}function er(n){const{top:a,right:r,bottom:f,left:u}=n;return[{x:u,y:a},{x:r,y:a},{x:r,y:f},{x:u,y:f}]}function tr(n,a){const{x:r,y:f}=n;let u=!1;for(let o=0,l=a.length-1;o<a.length;l=o++){const i=a[o],s=a[l],t=i.x,d=i.y,c=s.x,h=s.y;d>f!=h>f&&r<(c-t)*(f-d)/(h-d)+t&&(u=!u)}return u}function rr(n){const a=n.slice();return a.sort((r,f)=>r.x<f.x?-1:r.x>f.x?1:r.y<f.y?-1:r.y>f.y?1:0),ar(a)}function ar(n){if(n.length<=1)return n.slice();const a=[];for(let f=0;f<n.length;f++){const u=n[f];for(;a.length>=2;){const o=a[a.length-1],l=a[a.length-2];if((o.x-l.x)*(u.y-l.y)>=(o.y-l.y)*(u.x-l.x))a.pop();else break}a.push(u)}a.pop();const r=[];for(let f=n.length-1;f>=0;f--){const u=n[f];for(;r.length>=2;){const o=r[r.length-1],l=r[r.length-2];if((o.x-l.x)*(u.y-l.y)>=(o.y-l.y)*(u.x-l.x))r.pop();else break}r.push(u)}return r.pop(),a.length===1&&r.length===1&&a[0].x===r[0].x&&a[0].y===r[0].y?a:a.concat(r)}var sr=Ye,nr=We,or=Ze,ir=et,lr=tt,cr=st;function nt({delayDuration:n=0,...a}){return e.jsx(sr,{"data-slot":"tooltip-provider",delayDuration:n,...a})}function dr({...n}){return e.jsx(nt,{children:e.jsx(nr,{"data-slot":"tooltip",...n})})}function ur({...n}){return e.jsx(or,{"data-slot":"tooltip-trigger",...n})}function fr({className:n,sideOffset:a=0,children:r,...f}){return e.jsx(ir,{children:e.jsxs(lr,{"data-slot":"tooltip-content",sideOffset:a,className:Nt("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n),...f,children:[r,e.jsx(cr,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}var H={},ue,De;function ot(){return De||(De=1,ue={L:1,M:0,Q:3,H:2}),ue}var fe,ke;function it(){return ke||(ke=1,fe={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),fe}var he,Me;function hr(){if(Me)return he;Me=1;var n=it();function a(r){this.mode=n.MODE_8BIT_BYTE,this.data=r}return a.prototype={getLength:function(r){return this.data.length},write:function(r){for(var f=0;f<this.data.length;f++)r.put(this.data.charCodeAt(f),8)}},he=a,he}var me,Oe;function mr(){if(Oe)return me;Oe=1;var n=ot();function a(r,f){this.totalCount=r,this.dataCount=f}return a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(r,f){var u=a.getRsBlockTable(r,f);if(u==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+f);for(var o=u.length/3,l=new Array,i=0;i<o;i++)for(var s=u[i*3+0],t=u[i*3+1],d=u[i*3+2],c=0;c<s;c++)l.push(new a(t,d));return l},a.getRsBlockTable=function(r,f){switch(f){case n.L:return a.RS_BLOCK_TABLE[(r-1)*4+0];case n.M:return a.RS_BLOCK_TABLE[(r-1)*4+1];case n.Q:return a.RS_BLOCK_TABLE[(r-1)*4+2];case n.H:return a.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},me=a,me}var pe,Se;function pr(){if(Se)return pe;Se=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(a){var r=Math.floor(a/8);return(this.buffer[r]>>>7-a%8&1)==1},put:function(a,r){for(var f=0;f<r;f++)this.putBit((a>>>r-f-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(a){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),a&&(this.buffer[r]|=128>>>this.length%8),this.length++}},pe=n,pe}var ge,Ie;function lt(){if(Ie)return ge;Ie=1;for(var n={glog:function(r){if(r<1)throw new Error("glog("+r+")");return n.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return n.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},a=0;a<8;a++)n.EXP_TABLE[a]=1<<a;for(var a=8;a<256;a++)n.EXP_TABLE[a]=n.EXP_TABLE[a-4]^n.EXP_TABLE[a-5]^n.EXP_TABLE[a-6]^n.EXP_TABLE[a-8];for(var a=0;a<255;a++)n.LOG_TABLE[n.EXP_TABLE[a]]=a;return ge=n,ge}var ve,Fe;function ct(){if(Fe)return ve;Fe=1;var n=lt();function a(r,f){if(r.length==null)throw new Error(r.length+"/"+f);for(var u=0;u<r.length&&r[u]==0;)u++;this.num=new Array(r.length-u+f);for(var o=0;o<r.length-u;o++)this.num[o]=r[o+u]}return a.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var f=new Array(this.getLength()+r.getLength()-1),u=0;u<this.getLength();u++)for(var o=0;o<r.getLength();o++)f[u+o]^=n.gexp(n.glog(this.get(u))+n.glog(r.get(o)));return new a(f,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var f=n.glog(this.get(0))-n.glog(r.get(0)),u=new Array(this.getLength()),o=0;o<this.getLength();o++)u[o]=this.get(o);for(var o=0;o<r.getLength();o++)u[o]^=n.gexp(n.glog(r.get(o))+f);return new a(u,0).mod(r)}},ve=a,ve}var xe,qe;function gr(){if(qe)return xe;qe=1;var n=it(),a=ct(),r=lt(),f={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(o){for(var l=o<<10;u.getBCHDigit(l)-u.getBCHDigit(u.G15)>=0;)l^=u.G15<<u.getBCHDigit(l)-u.getBCHDigit(u.G15);return(o<<10|l)^u.G15_MASK},getBCHTypeNumber:function(o){for(var l=o<<12;u.getBCHDigit(l)-u.getBCHDigit(u.G18)>=0;)l^=u.G18<<u.getBCHDigit(l)-u.getBCHDigit(u.G18);return o<<12|l},getBCHDigit:function(o){for(var l=0;o!=0;)l++,o>>>=1;return l},getPatternPosition:function(o){return u.PATTERN_POSITION_TABLE[o-1]},getMask:function(o,l,i){switch(o){case f.PATTERN000:return(l+i)%2==0;case f.PATTERN001:return l%2==0;case f.PATTERN010:return i%3==0;case f.PATTERN011:return(l+i)%3==0;case f.PATTERN100:return(Math.floor(l/2)+Math.floor(i/3))%2==0;case f.PATTERN101:return l*i%2+l*i%3==0;case f.PATTERN110:return(l*i%2+l*i%3)%2==0;case f.PATTERN111:return(l*i%3+(l+i)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}},getErrorCorrectPolynomial:function(o){for(var l=new a([1],0),i=0;i<o;i++)l=l.multiply(new a([1,r.gexp(i)],0));return l},getLengthInBits:function(o,l){if(1<=l&&l<10)switch(o){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+o)}else if(l<27)switch(o){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+o)}else if(l<41)switch(o){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+o)}else throw new Error("type:"+l)},getLostPoint:function(o){for(var l=o.getModuleCount(),i=0,s=0;s<l;s++)for(var t=0;t<l;t++){for(var d=0,c=o.isDark(s,t),h=-1;h<=1;h++)if(!(s+h<0||l<=s+h))for(var p=-1;p<=1;p++)t+p<0||l<=t+p||h==0&&p==0||c==o.isDark(s+h,t+p)&&d++;d>5&&(i+=3+d-5)}for(var s=0;s<l-1;s++)for(var t=0;t<l-1;t++){var g=0;o.isDark(s,t)&&g++,o.isDark(s+1,t)&&g++,o.isDark(s,t+1)&&g++,o.isDark(s+1,t+1)&&g++,(g==0||g==4)&&(i+=3)}for(var s=0;s<l;s++)for(var t=0;t<l-6;t++)o.isDark(s,t)&&!o.isDark(s,t+1)&&o.isDark(s,t+2)&&o.isDark(s,t+3)&&o.isDark(s,t+4)&&!o.isDark(s,t+5)&&o.isDark(s,t+6)&&(i+=40);for(var t=0;t<l;t++)for(var s=0;s<l-6;s++)o.isDark(s,t)&&!o.isDark(s+1,t)&&o.isDark(s+2,t)&&o.isDark(s+3,t)&&o.isDark(s+4,t)&&!o.isDark(s+5,t)&&o.isDark(s+6,t)&&(i+=40);for(var x=0,t=0;t<l;t++)for(var s=0;s<l;s++)o.isDark(s,t)&&x++;var b=Math.abs(100*x/l/l-50)/5;return i+=b*10,i}};return xe=u,xe}var ye,Ue;function vr(){if(Ue)return ye;Ue=1;var n=hr(),a=mr(),r=pr(),f=gr(),u=ct();function o(i,s){this.typeNumber=i,this.errorCorrectLevel=s,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=o.prototype;return l.addData=function(i){var s=new n(i);this.dataList.push(s),this.dataCache=null},l.isDark=function(i,s){if(i<0||this.moduleCount<=i||s<0||this.moduleCount<=s)throw new Error(i+","+s);return this.modules[i][s]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var i=1;for(i=1;i<40;i++){for(var s=a.getRSBlocks(i,this.errorCorrectLevel),t=new r,d=0,c=0;c<s.length;c++)d+=s[c].dataCount;for(var c=0;c<this.dataList.length;c++){var h=this.dataList[c];t.put(h.mode,4),t.put(h.getLength(),f.getLengthInBits(h.mode,i)),h.write(t)}if(t.getLengthInBits()<=d*8)break}this.typeNumber=i}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(i,s){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++){this.modules[t]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[t][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(i,s),this.typeNumber>=7&&this.setupTypeNumber(i),this.dataCache==null&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,s)},l.setupPositionProbePattern=function(i,s){for(var t=-1;t<=7;t++)if(!(i+t<=-1||this.moduleCount<=i+t))for(var d=-1;d<=7;d++)s+d<=-1||this.moduleCount<=s+d||(0<=t&&t<=6&&(d==0||d==6)||0<=d&&d<=6&&(t==0||t==6)||2<=t&&t<=4&&2<=d&&d<=4?this.modules[i+t][s+d]=!0:this.modules[i+t][s+d]=!1)},l.getBestMaskPattern=function(){for(var i=0,s=0,t=0;t<8;t++){this.makeImpl(!0,t);var d=f.getLostPoint(this);(t==0||i>d)&&(i=d,s=t)}return s},l.createMovieClip=function(i,s,t){var d=i.createEmptyMovieClip(s,t),c=1;this.make();for(var h=0;h<this.modules.length;h++)for(var p=h*c,g=0;g<this.modules[h].length;g++){var x=g*c,b=this.modules[h][g];b&&(d.beginFill(0,100),d.moveTo(x,p),d.lineTo(x+c,p),d.lineTo(x+c,p+c),d.lineTo(x,p+c),d.endFill())}return d},l.setupTimingPattern=function(){for(var i=8;i<this.moduleCount-8;i++)this.modules[i][6]==null&&(this.modules[i][6]=i%2==0);for(var s=8;s<this.moduleCount-8;s++)this.modules[6][s]==null&&(this.modules[6][s]=s%2==0)},l.setupPositionAdjustPattern=function(){for(var i=f.getPatternPosition(this.typeNumber),s=0;s<i.length;s++)for(var t=0;t<i.length;t++){var d=i[s],c=i[t];if(this.modules[d][c]==null)for(var h=-2;h<=2;h++)for(var p=-2;p<=2;p++)h==-2||h==2||p==-2||p==2||h==0&&p==0?this.modules[d+h][c+p]=!0:this.modules[d+h][c+p]=!1}},l.setupTypeNumber=function(i){for(var s=f.getBCHTypeNumber(this.typeNumber),t=0;t<18;t++){var d=!i&&(s>>t&1)==1;this.modules[Math.floor(t/3)][t%3+this.moduleCount-8-3]=d}for(var t=0;t<18;t++){var d=!i&&(s>>t&1)==1;this.modules[t%3+this.moduleCount-8-3][Math.floor(t/3)]=d}},l.setupTypeInfo=function(i,s){for(var t=this.errorCorrectLevel<<3|s,d=f.getBCHTypeInfo(t),c=0;c<15;c++){var h=!i&&(d>>c&1)==1;c<6?this.modules[c][8]=h:c<8?this.modules[c+1][8]=h:this.modules[this.moduleCount-15+c][8]=h}for(var c=0;c<15;c++){var h=!i&&(d>>c&1)==1;c<8?this.modules[8][this.moduleCount-c-1]=h:c<9?this.modules[8][15-c-1+1]=h:this.modules[8][15-c-1]=h}this.modules[this.moduleCount-8][8]=!i},l.mapData=function(i,s){for(var t=-1,d=this.moduleCount-1,c=7,h=0,p=this.moduleCount-1;p>0;p-=2)for(p==6&&p--;;){for(var g=0;g<2;g++)if(this.modules[d][p-g]==null){var x=!1;h<i.length&&(x=(i[h]>>>c&1)==1);var b=f.getMask(s,d,p-g);b&&(x=!x),this.modules[d][p-g]=x,c--,c==-1&&(h++,c=7)}if(d+=t,d<0||this.moduleCount<=d){d-=t,t=-t;break}}},o.PAD0=236,o.PAD1=17,o.createData=function(i,s,t){for(var d=a.getRSBlocks(i,s),c=new r,h=0;h<t.length;h++){var p=t[h];c.put(p.mode,4),c.put(p.getLength(),f.getLengthInBits(p.mode,i)),p.write(c)}for(var g=0,h=0;h<d.length;h++)g+=d[h].dataCount;if(c.getLengthInBits()>g*8)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+g*8+")");for(c.getLengthInBits()+4<=g*8&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=g*8||(c.put(o.PAD0,8),c.getLengthInBits()>=g*8));)c.put(o.PAD1,8);return o.createBytes(c,d)},o.createBytes=function(i,s){for(var t=0,d=0,c=0,h=new Array(s.length),p=new Array(s.length),g=0;g<s.length;g++){var x=s[g].dataCount,b=s[g].totalCount-x;d=Math.max(d,x),c=Math.max(c,b),h[g]=new Array(x);for(var m=0;m<h[g].length;m++)h[g][m]=255&i.buffer[m+t];t+=x;var j=f.getErrorCorrectPolynomial(b),E=new u(h[g],j.getLength()-1),N=E.mod(j);p[g]=new Array(j.getLength()-1);for(var m=0;m<p[g].length;m++){var P=m+N.getLength()-p[g].length;p[g][m]=P>=0?N.get(P):0}}for(var _=0,m=0;m<s.length;m++)_+=s[m].totalCount;for(var w=new Array(_),R=0,m=0;m<d;m++)for(var g=0;g<s.length;g++)m<h[g].length&&(w[R++]=h[g][m]);for(var m=0;m<c;m++)for(var g=0;g<s.length;g++)m<p[g].length&&(w[R++]=p[g][m]);return w},ye=o,ye}var ae={},ze;function xr(){if(ze)return ae;ze=1,Object.defineProperty(ae,"__esModule",{value:!0});var n=Object.assign||function(t){for(var d=1;d<arguments.length;d++){var c=arguments[d];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(t[h]=c[h])}return t},a=Ve(),r=o(a),f=Ke(),u=o(f);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,d){var c={};for(var h in t)d.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(t,h)&&(c[h]=t[h]);return c}var i={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},s=(0,f.forwardRef)(function(t,d){var c=t.bgColor,h=t.bgD,p=t.fgD,g=t.fgColor,x=t.size,b=t.title,m=t.viewBoxSize,j=t.xmlns,E=j===void 0?"http://www.w3.org/2000/svg":j,N=l(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return u.default.createElement("svg",n({},N,{height:x,ref:d,viewBox:"0 0 "+m+" "+m,width:x,xmlns:E}),b?u.default.createElement("title",null,b):null,u.default.createElement("path",{d:h,fill:c}),u.default.createElement("path",{d:p,fill:g}))});return s.displayName="QRCodeSvg",s.propTypes=i,ae.default=s,ae}var He;function yr(){if(He)return H;He=1,Object.defineProperty(H,"__esModule",{value:!0}),H.QRCode=void 0;var n=Object.assign||function(x){for(var b=1;b<arguments.length;b++){var m=arguments[b];for(var j in m)Object.prototype.hasOwnProperty.call(m,j)&&(x[j]=m[j])}return x},a=Ve(),r=c(a),f=ot(),u=c(f),o=vr(),l=c(o),i=Ke(),s=c(i),t=xr(),d=c(t);function c(x){return x&&x.__esModule?x:{default:x}}function h(x,b){var m={};for(var j in x)b.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(x,j)&&(m[j]=x[j]);return m}var p={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},g=(0,i.forwardRef)(function(x,b){var m=x.bgColor,j=m===void 0?"#FFFFFF":m,E=x.fgColor,N=E===void 0?"#000000":E,P=x.level,_=P===void 0?"L":P,w=x.size,R=w===void 0?256:w,S=x.value,G=h(x,["bgColor","fgColor","level","size","value"]),D=new l.default(-1,u.default[_]);D.addData(S),D.make();var $=D.modules;return s.default.createElement(d.default,n({},G,{bgColor:j,bgD:$.map(function(k,I){return k.map(function(K,V){return K?"":"M "+V+" "+I+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:N,fgD:$.map(function(k,I){return k.map(function(K,V){return K?"M "+V+" "+I+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:b,size:R,viewBoxSize:$.length}))});return H.QRCode=g,g.displayName="QRCode",g.propTypes=p,H.default=g,H}var br=yr();const Cr=Rt(br),jr=()=>e.jsx("img",{src:kt,className:"h-7"}),wr=({user:n,badge:a,awards:r=[]})=>{var s;const f=y.useRef(null),[u,o]=y.useState(!1),l=async()=>{o(!0),L.info("Gerando seu crachá...");try{const t=await A.get("/badges/download",{responseType:"blob"}),d=window.URL.createObjectURL(new Blob([t.data])),c=document.createElement("a");c.href=d,c.setAttribute("download",`cracha_universal_${n.name.replace(/\s/g,"_")}.png`),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c),window.URL.revokeObjectURL(d),L.success("Download do crachá iniciado!")}catch(t){console.error("Erro ao baixar o crachá:",t),L.error("Ocorreu um erro ao baixar o crachá.")}finally{o(!1)}};if(!n||!a)return e.jsx("p",{children:"Carregando dados do crachá..."});const i=Array.isArray(r)?r.slice(0,5):[];return e.jsxs("div",{className:"flex flex-col items-center gap-6",children:[e.jsx("div",{ref:f,className:"relative w-[320px] h-[560px] rounded-2xl shadow-lg overflow-hidden text-white bg-gradient-to-br from-gray-800 via-gray-900 to-black p-6",children:e.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-between h-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx(jr,{}),i.length>0&&e.jsx("div",{className:"flex justify-center gap-2",children:i.map(({award:t})=>e.jsx("img",{src:O(t.imageUrl),alt:t.name,title:t.name,className:"h-7 w-7 rounded-full border-1 border-white/50"},t.id))})]}),e.jsxs("div",{className:"flex flex-col items-center text-center mt-2",children:[e.jsxs(be,{className:"w-24 h-24 border-2 border-white/80 mb-1 shadow-lg",children:[e.jsx(Ce,{src:O(n.photoUrl),alt:n.name}),e.jsx(je,{className:"text-3xl bg-gray-700",children:(s=n.name)==null?void 0:s.split(" ").map(t=>t[0]).join("").toUpperCase()})]}),e.jsx("h2",{className:"text-2xl font-bold tracking-tight leading-tight mb-1",children:n.name})]}),e.jsxs("div",{className:"flex flex-col items-center text-center bg-white/95 p-4 rounded-xl backdrop-blur-sm w-[100%]",children:[e.jsx(Cr,{size:256,style:{height:"auto",maxWidth:"100%",width:"100%"},value:JSON.stringify({userId:n.id,badgeCode:a.badgeCode,badgeType:"user"}),viewBox:"0 0 256 256"}),e.jsx("p",{className:"mt-2 font-mono text-sm font-bold tracking-wider text-gray-800",children:a.badgeCode})]})]})}),e.jsxs(B,{id:"download-badge-button",onClick:l,className:"w-full max-w-sm",disabled:u,children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),u?"Gerando...":"Salvar Crachá como PNG"]})]})},Sr=()=>{var Ne,Re,Le,Ae;const n=Lt(),{user:a,logout:r,updateAuthUser:f}=At(),[u,o]=y.useState(!1),[l,i]=y.useState({name:"",email:"",phone:"",address:""}),[s,t]=y.useState(!1),[d,c]=y.useState(!1),[h,p]=y.useState(null),[g,x]=y.useState(null),b=y.useRef(null),{data:m,isLoading:j}=M({queryKey:["user-profile",a==null?void 0:a.id],queryFn:async()=>(await A.get("/auth/profile")).data,enabled:!!(a!=null&&a.id),onSuccess:v=>{i({name:v.name||"",email:v.email||"",phone:v.phone||"",address:v.address||""}),x(O(v.photoUrl)),t(v.hasConsentFacialRecognition||!1)}}),{data:E,isLoading:N}=M({queryKey:["user-awards",m==null?void 0:m.id],queryFn:async()=>(await A.get(`/awards/users/${m.id}`)).data.userAwards,enabled:!!(m!=null&&m.id)}),{data:P,isLoading:_}=M({queryKey:["my-badge"],queryFn:async()=>(await A.get("/badges/my-badge")).data}),{data:w}=M({queryKey:["my-enrollments-stats",a==null?void 0:a.id],queryFn:()=>A.get("/enrollments/my-enrollments?limit=1").then(v=>v.data),enabled:!!(a!=null&&a.id)}),{data:R}=M({queryKey:["my-checkins-stats",a==null?void 0:a.id],queryFn:()=>A.get("/checkins/my?limit=1").then(v=>v.data),enabled:!!(a!=null&&a.id)}),{data:S}=M({queryKey:["my-evaluations-stats"],queryFn:()=>A.get("/evaluations/my"),enabled:!!m}),{data:G}=M({queryKey:["my-awards-stats",a==null?void 0:a.id],queryFn:()=>A.get(`/awards/users/${a.id}?limit=1`).then(v=>v.data),enabled:!!(a!=null&&a.id)});y.useEffect(()=>{m&&(i({name:m.name||"",email:m.email||"",phone:m.phone||"",address:m.address||""}),x(O(m.photoUrl)),t(m.hasConsentFacialRecognition||!1))},[m]);const D=re({mutationFn:v=>A.put(`/users/${m.id}`,v),onSuccess:()=>{L.success("Perfil atualizado com sucesso!"),n.invalidateQueries(["profile"]),o(!1)},onError:v=>{var C,T;L.error(((T=(C=v.response)==null?void 0:C.data)==null?void 0:T.error)||"Erro ao atualizar perfil")}}),$=v=>{v.preventDefault(),D.mutate(l)},k=re({mutationFn:v=>A.post(`/users/${a.id}/photo`,v,{headers:{"Content-Type":"multipart/form-data"}}),onSuccess:v=>{L.success("Foto de perfil atualizada com sucesso!");const C=v.data.user;C!=null&&C.photoUrl&&f({photoUrl:C.photoUrl}),n.invalidateQueries({queryKey:["user-profile",a.id]}),p(null)},onError:v=>{var C,T;L.error(((T=(C=v.response)==null?void 0:C.data)==null?void 0:T.error)||"Erro ao atualizar a foto."),x(O(m.photoUrl)),p(null)}}),I=re({mutationFn:v=>A.put("/users/me/consent-facial",{consent:v}),onSuccess:v=>{L.success(v.data.message||"Consentimento atualizado.");const C=v.data.hasConsentFacialRecognition;f({hasConsentFacialRecognition:C}),n.setQueryData(["user-profile",a.id],T=>T&&{...T,hasConsentFacialRecognition:C})},onError:v=>{var C,T;L.error(((T=(C=v.response)==null?void 0:C.data)==null?void 0:T.error)||"Erro ao atualizar consentimento."),t(ie=>!ie)}}),K=v=>{const C=v.target.files[0];C&&(p(C),x(URL.createObjectURL(C)))},V=()=>{if(h){const v=new FormData;v.append("profilePhoto",h),k.mutate(v)}},dt=()=>{p(null),x(O(m.photoUrl))},ut=v=>{t(v),I.mutate(v)},ft=async()=>{var v,C;c(!0),L.info("Exportando seus dados...");try{const T={exportDate:new Date().toISOString(),user:{id:m.id,name:m.name,email:m.email,cpf:m.cpf,phone:m.phone,address:m.address,createdAt:m.createdAt},statistics:{totalEnrollments:((v=w==null?void 0:w.pagination)==null?void 0:v.total)||0,totalCheckins:((C=R==null?void 0:R.pagination)==null?void 0:C.total)||0,totalEvaluations:(S==null?void 0:S.length)||0},userBadge:P||null,enrollments:(w==null?void 0:w.enrollments)||[],evaluations:S||[],checkins:(R==null?void 0:R.checkins)||[]},ie=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),_e=URL.createObjectURL(ie),X=document.createElement("a");X.href=_e,X.download=`dados_usuario_${m.name.replace(/\s+/g,"_")}.json`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(_e),L.success("Dados exportados com sucesso!")}catch(T){console.error("Erro ao exportar dados:",T),L.error("Ocorreu um erro ao exportar seus dados.")}finally{c(!1)}},oe=re({mutationFn:()=>A.delete(`/users/${m.id}`),onSuccess:()=>{L.success("Sua conta foi excluída com sucesso."),r()},onError:v=>{var C,T;L.error(((T=(C=v.response)==null?void 0:C.data)==null?void 0:T.error)||"Erro ao excluir a conta.")}}),ht=()=>{window.confirm("ATENÇÃO: Esta ação é irreversível. Você tem certeza que deseja excluir sua conta e todos os seus dados?")&&oe.mutate()};return j?e.jsx("div",{className:"p-6",children:"Carregando perfil..."}):e.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[e.jsx(q,{children:e.jsxs(U,{className:"flex flex-row items-center gap-4",children:[e.jsxs("div",{className:"relative group flex-shrink-0",children:[e.jsxs(be,{className:"h-24 w-24",children:[e.jsx(Ce,{src:g||"",alt:m.name}),e.jsx(je,{className:"text-3xl",children:(Ne=m.name)==null?void 0:Ne.split(" ").map(v=>v[0]).join("").toUpperCase()})]}),e.jsx("button",{onClick:()=>b.current.click(),className:`absolute inset-0 bg-black/50 flex items-center justify-center rounded-full transition-opacity
                         ${u?"opacity-100":"opacity-0 group-hover:opacity-100"}`,title:"Alterar foto",children:e.jsx(It,{className:"h-8 w-8 text-white"})}),e.jsx(W,{type:"file",ref:b,className:"hidden",onChange:K,accept:"image/png, image/jpeg"})]}),e.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[e.jsx(z,{className:"text-3xl",children:m.name}),e.jsx(J,{children:m.email}),h&&e.jsxs("div",{className:"flex justify-center sm:justify-start gap-2 mt-4",children:[e.jsx(B,{size:"sm",onClick:V,disabled:k.isPending,children:k.isPending?"Salvando...":"Salvar Foto"}),e.jsx(B,{size:"sm",variant:"outline",onClick:dt,children:"Cancelar"})]})]})]})}),e.jsxs(Bt,{defaultValue:"profile",className:"w-full",children:[e.jsxs(Dt,{className:"grid w-full grid-cols-3",children:[e.jsx(le,{value:"profile",id:"profile-info-tab",children:"Perfil"}),e.jsx(le,{value:"badge",id:"my-badge-tab",children:"Meu Crachá"}),e.jsx(le,{value:"settings",children:"Configurações"})]}),e.jsxs(ce,{value:"profile",className:"space-y-3",children:[e.jsxs(q,{children:[e.jsxs(U,{children:[e.jsx(z,{children:"Informações do Perfil"}),e.jsx(J,{children:"Visualize ou edite suas informações pessoais."})]}),e.jsx(Y,{children:e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"name",children:"Nome Completo"}),e.jsx(W,{id:"name",value:l.name,onChange:v=>i({...l,name:v.target.value}),disabled:!u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"email",children:"Email"}),e.jsx(W,{id:"email",type:"email",value:l.email,onChange:v=>i({...l,email:v.target.value}),disabled:!u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"phone",children:"Telefone"}),e.jsx(W,{id:"phone",value:l.phone,onChange:v=>{let C=v.target.value;C=C.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2"),i({...l,phone:C})},maxLength:15,disabled:!u})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{htmlFor:"address",children:"Endereço"}),e.jsx(W,{id:"address",value:l.address,onChange:v=>i({...l,address:v.target.value}),disabled:!u})]})]}),e.jsx("div",{className:"flex justify-end gap-2 pt-4",children:u?e.jsxs(e.Fragment,{children:[e.jsx(B,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"}),e.jsx(B,{type:"submit",disabled:D.isPending,children:D.isPending?"Salvando...":"Salvar Alterações"})]}):e.jsx(B,{type:"button",onClick:()=>o(!0),children:"Editar Perfil"})})]})})]}),e.jsxs(q,{children:[e.jsxs(U,{children:[e.jsxs(z,{className:"flex items-center",children:[e.jsx(de,{className:"h-5 w-5 mr-2"}),"Minhas Insígnias"]}),e.jsx(J,{children:"Suas conquistas e premiações por participação nos eventos."})]}),e.jsx(Y,{children:N?e.jsx("p",{className:"text-sm text-gray-500",children:"Carregando insígnias..."}):E&&E.length>0?e.jsx(nt,{delayDuration:100,children:e.jsx("div",{className:"flex flex-wrap gap-4",children:E.map(({award:v,awardedAt:C})=>e.jsxs(dr,{children:[e.jsx(ur,{asChild:!0,children:e.jsxs("div",{className:"flex flex-col items-center gap-2 cursor-pointer transition-transform hover:scale-110",children:[e.jsxs(be,{className:"h-16 w-16 border-2 border-yellow-400",children:[e.jsx(Ce,{src:O(v.imageUrl),alt:v.name,className:"object-contain "}),e.jsx(je,{children:e.jsx(de,{})})]}),e.jsx("span",{className:"text-xs font-medium text-center w-20",children:v.name})]})}),e.jsx(fr,{children:e.jsxs("div",{className:"max-w-xs p-1",children:[e.jsx("p",{className:"font-bold text-base",children:v.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:v.description}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Conquistada em:"," ",new Date(C).toLocaleDateString("pt-BR")]})]})})]},v.id))})}):e.jsx("p",{className:"text-sm text-gray-500",children:"Você ainda não conquistou nenhuma insígnia. Participe dos eventos para ganhar!"})})]})]}),e.jsxs(ce,{value:"badge",children:[e.jsxs(q,{children:[e.jsxs(U,{children:[e.jsx(z,{children:"Meu Crachá Universal"}),e.jsx(J,{children:"Use este crachá para fazer check-in em todos os eventos. Você pode salvá-lo como PDF para impressão."})]}),e.jsx(Y,{className:"flex flex-col items-center gap-8 p-6",children:_?e.jsx("div",{className:"text-center text-gray-500",children:"Carregando crachá..."}):P&&m?e.jsx(wr,{user:m,badge:P,awards:E}):e.jsx("div",{className:"text-center text-red-500",children:"Não foi possível carregar os dados do crachá."})})]}),e.jsxs(q,{children:[e.jsx(U,{children:e.jsx(z,{children:"Resumo da sua Atividade"})}),e.jsxs(Y,{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border rounded-lg text-center",children:[e.jsx(_t,{className:"h-8 w-8 mb-2 text-blue-500"}),e.jsx("p",{className:"text-2xl font-bold",children:((Re=w==null?void 0:w.pagination)==null?void 0:Re.total)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Inscrições"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border rounded-lg text-center",children:[e.jsx(Ft,{className:"h-8 w-8 mb-2 text-green-500"}),e.jsx("p",{className:"text-2xl font-bold",children:((Le=R==null?void 0:R.pagination)==null?void 0:Le.total)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Check-ins"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border rounded-lg text-center",children:[e.jsx(de,{className:"h-8 w-8 mb-2 text-yellow-500"}),e.jsx("p",{className:"text-2xl font-bold",children:((Ae=G==null?void 0:G.pagination)==null?void 0:Ae.total)||0}),e.jsx("p",{className:"text-sm text-gray-600",children:"Insígnias"})]})]})]})]}),e.jsx(ce,{value:"settings",children:e.jsxs(q,{children:[e.jsxs(U,{children:[e.jsx(z,{children:"Configurações e Dados"}),e.jsx(J,{children:"Gerencie seus dados e preferências da conta."})]}),e.jsxs(Y,{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center",children:[e.jsx(zt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Reconhecimento Facial para Check-in"]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(Z,{htmlFor:"facial-consent-switch",className:"font-semibold cursor-pointer",children:"Habilitar check-in por reconhecimento facial"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Permitir que o sistema utilize sua foto de perfil para identificá-lo(a) nos pontos de check-in dos eventos. Seus dados biométricos serão processados apenas para esta finalidade."}),!(m!=null&&m.photoUrl)&&s&&e.jsxs(Ot,{variant:"warning",className:"mt-2 text-yellow-800 border-yellow-300 bg-yellow-50",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx(St,{children:"Você habilitou o reconhecimento facial, mas ainda não enviou uma foto de perfil. Adicione uma foto para que a função possa ser utilizada."})]})]}),e.jsx(Mt,{id:"facial-consent-switch",checked:s,onCheckedChange:ut,disabled:I.isPending})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Seus Direitos"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Você tem controle total sobre suas informações em nossa plataforma. De acordo com a Lei Geral de Proteção de Dados (LGPD), garantimos os seguintes direitos:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Acesso e Retificação:"}),' Você pode visualizar e editar suas informações pessoais a qualquer momento na aba "Perfil".']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Portabilidade de Dados:"})," Você pode baixar um arquivo JSON com todos os seus dados, incluindo inscrições, check-ins e avaliações."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Exclusão (Direito ao Esquecimento):"})," Você pode solicitar a exclusão permanente da sua conta e de todos os dados associados."]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Exportar Meus Dados"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Baixe um arquivo JSON com todas as suas informações."})]}),e.jsxs(B,{onClick:ft,disabled:d,children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),d?"Exportando...":"Exportar"]})]}),e.jsxs("div",{className:"p-4 border border-destructive/50 rounded-lg bg-destructive/5",children:[e.jsxs("h4",{className:"flex items-center font-semibold text-destructive",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Zona de Perigo"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2 mb-4",children:"A exclusão da sua conta é uma ação permanente e não pode ser desfeita. Todos os seus dados, incluindo histórico de eventos e certificados, serão removidos."}),e.jsxs(B,{variant:"destructive",onClick:ht,disabled:oe.isPending,children:[e.jsx(qt,{className:"h-4 w-4 mr-2"}),oe.isPending?"Excluindo...":"Excluir minha conta permanentemente"]})]})]})]})})]})]})};export{Sr as default};
